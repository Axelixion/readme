{% extends "base.html" %}

{% block content %}
<div class="main-feed">
    {% for entry in all_entries %}
    <div class="feed-item-row">
        <div class="item-score">
            {% if entry.score %}
            {{ entry.score }}
            {% else %}
            0
            {% endif %}
        </div>
        <div class="item-content">
            <div class="item-title">
                <a href="{{ entry.link }}" target="_blank">{{ entry.title }}</a>
            </div>
            <div class="item-meta">
                <span class="item-source">({{ entry.source_name }})</span>
                {% if entry.comments_link %}
                | <a href="{{ entry.comments_link }}" target="_blank">
                    {% if entry.comments_count %}
                    {{ entry.comments_count }} comments
                    {% else %}
                    discuss
                    {% endif %}
                </a>
                {% endif %}
                {% if entry.published_formatted %}
                | <span>{{ entry.published_formatted }}</span>
                {% endif %}
            </div>
            {% if entry.description %}
            <div class="item-description">
                {{ entry.description | safe }}
            </div>
            {% endif %}
            {% if entry.thumb %}
            <div class="item-thumbnail">
                <img src="{{ entry.thumb }}" alt="Thumbnail">
            </div>
            {% endif %}
        </div>
    </div>
    {% endfor %}
</div>
{% endblock %}